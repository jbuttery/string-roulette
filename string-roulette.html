<!DOCTYPE html>
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style type="text/css">
html, body                                           { height: 100%; }
div#header                                           { text-align: center; padding-bottom: 2em; }
div#string_container, div#secondary_string_container { text-align: center; }
div#string_container                                 { padding-bottom: 3em; }
span#the_string                                      { font-size: 3em; font-weight: bold; }
span#secondary_string                                { font-style: italic; }
</style>
<title>String Roulette</title>
<script type="text/javascript">
var document_title = "String Roulette";
var strings = {"numbers":["0","1","2","3","4","5","6","7","8","9"]};
function update_string() {
    // Get list name from URI query string
    // .../string-roulette.html?list=numbers
    var list_name = new URLSearchParams(window.location.search).get("list");
    // Get list name from URI fragment
    // .../string-roulette.html#numbers
    //var list_name = window.location.hash.slice(1);
    if ( strings[list_name] ) {
        var list = strings[list_name];
    } else {
        list_name = "numbers";
        var list = strings["numbers"];
    }
    var list_selection = Math.floor(Math.random() * list.length);
    if ( typeof list[list_selection] === "string" ) {
        var new_string = list[list_selection];
    } else if ( typeof list[list_selection] === "object" ) {
        var new_string           = list[list_selection][0];
        var new_secondary_string = list[list_selection][1];
    } else {
        //alert("Unknown data type: " + typeof(list[list_selection]));
        console.error("Unknown data type: " + typeof(list[list_selection]));
        exit;
    }
    document.getElementsByTagName("title")[0].innerText = document_title + " (" + list_name + ")";
    document.getElementById("page_heading").innerText = document_title + " (" + list_name + ")";
    document.getElementById("the_string").innerText = new_string;
    if ( typeof new_secondary_string === 'undefined' ) {
        document.getElementById("secondary_string").innerText = "";
    } else {
        document.getElementById("secondary_string").innerText = new_secondary_string;
    }
}
// Run on page load
window.onload = update_string;
</script>
<script src="lists.js"></script>
</head>
<body onMouseUp="update_string();">
<div id="bgtext"></div>
<div id="header">
  <h1 id="page_heading"></h1>
</div>
<div id="body">
  <div id="string_container">
    <span id="the_string"></span>
  </div>
  <div id="secondary_string_container">
    <span id="secondary_string"></span>
  </div>
</div>
<div id="footer">
</div>
</body>
</html>
